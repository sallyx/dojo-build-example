<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Dojo Editor</title>
    <link rel="stylesheet" href="src/dijit/themes/claro/claro.css" media="screen" />
</head>
<body class="claro">
    <h1 id="greeting">Dojo Editor!</h1>


    <div data-dojo-type="dijit/Editor" id="myEditor"
	data-dojo-props="title:'Titulek editoru', styleSheets : 'src/dijit/themes/claro/claro.css;src/dijit/themes/claro/claro.css', extraPlugins:
	['foreColor','hiliteColor','fontName','fontSize','formatBlock',
	{name:'dijit._editor.plugins.FontChoice', command:'formatBlock', values:['h1','h4']},'viewSource','fullscreen','|'],
     plugins:['undo','redo','cut','copy','paste','|',
     'bold','italic','underline','strikethrough','subscript','superscript','|',
     'indent', 'outdent', 'justifyLeft', 'justifyCenter', 'justifyRight','|',
     'selectAll','removeFormat','insertOrderedList','insertUnorderedList','insertHorizontalRule','justifyFull',
     'createLink','unlink','insertImage', 'delete','||'],
    onChange:function(){console.log('editor2 onChange handler: '); console.log(arguments)}" height="200">
	<p>This is the initial content.</p>
    </div>


    <script type="text/javascript">
	var dojoConfig = {
	    baseUrl: "./js/",
	    selectorEngine: "lite",
	    tlmSiblingOfDojo: false,
	    packages: [
		{ name: "dojo", location: "../src/dojo" },
		{ name: "dijit", location: "../src/dijit" },
		{ name: "dojox", location: "../src/dojox" },
		{ name: "my", location: "my", main: "app" }
	   ],
	   locale: "cs-cz"
	};
    </script>
    <script  src="src/dojo/dojo.js"></script>
    <script type="text/javascript">
	require([
		"dojo/_base/lang",
		"dojo/aspect",
		"dojo/dom",
		"dijit/registry",
		"dojo/parser",
		"dijit/Editor", 
		"dijit/_editor/plugins/FontChoice", // 'fontName','fontSize','formatBlock'
	 	"dijit/_editor/plugins/TextColor",
		"dijit/_editor/plugins/LinkDialog",
		"dijit/_editor/plugins/ViewSource",
		"dijit/_editor/plugins/FullScreen",
		"dojox/editor/plugins/ToolbarLineBreak",
		"dojo/domReady!"
	], function(lang,aspect, dom, registry, parser,editor,fontChoice){
		aspect.after(fontChoice._FontDropDown.prototype, "postMixInProperties", function() {
		          lang.mixin(this.strings, {
		            "h1": "localized Heading",
		            "h2": "localized Subheading",
			    "h4": "localized Sub-subheading 4",
        		  });
		});
		parser.parse();
	    	var myEditor = registry.byId('myEditor');
	    	myEditor.onLoadDeferred.then(function(){
		    myEditor.set("value", "<b>This is new content.</b>");
	    	});
	});
    </script>
</body>
</html>
